<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>JavaScript 正则表达式（实例）</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="/assets/css/main.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/public.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<!-- <link rel="stylesheet" type="text/css" href="/assets/css/pygments.css"> -->
	<link rel="shortcut icon" href="/assets/images/logo_ioc.ico" type="images/x-icon"/>
	<link rel="icon" href="/assets/images/logo_ioc.png" type="images/png"/>
	<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js" type="text/javascript"></script>
	
	<script type="text/javascript">
	    (function($) {

	    	var temp = 0;
	    	$(document).scroll(function() {

	    		if ($(document).scrollTop() > temp) {
	    			$("#header").addClass("hide-top");
	    		} else {
	    			$("#header").removeClass("hide-top");
	    		}
	    		temp = $(document).scrollTop();
	    	});
	    	
	    	//console.log($(".menu"))
	    })(jQuery);

	</script>

</head>
<body>
    <header id="header" role="banner">
	<a id="hgroup" href="/" rel="home">
		<h1 id="logo"></h1>
		<i class="slogan" title="返回首页">
			热爱编程，关注前端开发技术
		</i>
	</a>
	<div class="connect">
		<a href="https://github.com/huanghanzhilian" class="git" target="_blank"></a>
		<a href="http://www.huanghanlian.com/feed.xml" class="rss"></a>
	</div>
	<nav id="nav">
		<ul class="menu">
			<li class="menu_item">
				<a href="/">首页</a>
			</li>
			<li class="menu_item">
				<a href="http://www.huanghanlian.com/widget/">Web组件库</a>
			</li>
			<li class="menu_item">
				<a href="http://www.huanghanlian.com/front-end-note/">前端笔记</a>
			</li>
			<li class="menu_item">
				<a href="/about/">关于本站</a>
			</li>
			<li class="menu_item">
				<a href="/report/">留言板</a>
			</li>
		</ul>
	</nav>

	<div id="m-btns">
		<div class="menu"></div>
	</div>
	<nav class="nav-bar-tabs ">
		<ul>
            <li>
              	<a href="/">首页</a>
            </li>
            <li>
              	<a href="http://www.huanghanlian.com/widget/">Web组件库</a>
            </li>
            <li>
              	<a href="http://www.huanghanlian.com/front-end-note/">前端笔记</a>
            </li>
            <li>
              	<a href="/about/">关于本站</a>
            </li>
            <li>
              	<a href="/report/">留言板</a>
            </li>
        </ul>
	</nav>
</header>
	<div id="container" class="clearfix">
	<main id="main" class="hfeed">
		<article id="post-157" class="post-157 hentry">
			<header class="entry-header">
				<h1 class="entry-title">JavaScript 正则表达式（实例）</h1>
				<div class="entry-meta">2016-12-11 <span class="dot">•</span>JavaScript<span class="dot">•</span>黄继鹏<span id="busuanzi_container_page_pv">  |  阅读量 <span id="busuanzi_value_page_pv"></span> 次</span></div>
			</header>
			<article class="post-content">
              <p>全面了解RegExp正则，在开发工作中能解决很多困扰</p>

<blockquote>
<p>RegExp对象 </p>
</blockquote>

<p><strong>字面量</strong></p>

<p><code>var reg=/\bis\b/g;</code>定义变量<code>reg</code>然后把正则表达式文本写到两个反斜杠之间，<code>&quot;\正则文本\&quot;</code>。<code>\b</code>代表单词边界，<code>\bis\b</code>代表正则is单纯后面再加个<code>\b</code>是保证<code>is</code>是一个完整的单词，而不是两个字符。</p>
<div class="highlight"><pre><code class="language-" data-lang="">var reg=/\bis\b/;
"He is a boy .This is a dog.Where is she?".replace(reg,'IS');
//"He IS a boy .This is a dog.Where is she?"
</code></pre></div>
<p>发现就匹配了第一个单纯<code>is</code>。<br>
我们使用<code>g</code>，也就是代表全文搜索匹配。<code>var reg=/\bis\b/g;</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">var reg=/\bis\b/g;
"He is a boy .This is a dog.Where is she?".replace(reg,'IS');
//"He IS a boy .This IS a dog.Where IS she?"
</code></pre></div>
<p><strong>构造函数</strong></p>

<p><code>var reg=new RegExp(&quot;\\bis\\b&quot;,&quot;g&quot;);</code>使用<code>new</code>操作符来调用构造函数，构造函数接收两个参数，第一个字符串里面是正则表达式的文本，这里有些特殊的地方就是反斜线写了两次，是因为Javascript中反斜线本身就是特殊字符，如果我们想使用的话，就要进行转义，然后第二个参数是字符串，也是标志<code>g</code>也就是代表全文搜索匹配</p>
<div class="highlight"><pre><code class="language-" data-lang="">var reg=new RegExp("\\bis\\b","g");
"He is a boy .This is a dog.Where is she?".replace(reg,'IS');
//"He IS a boy .This IS a dog.Where IS she?"
</code></pre></div>
<blockquote>
<p>修饰符</p>
</blockquote>

<p><strong><code>g</code>:global全文搜索，不添加，搜索到第一个匹配停止</strong></p>
<div class="highlight"><pre><code class="language-" data-lang="">"He is a boy .This is a dog.Where is she?".replace(/\bis\b/g,'IS')
"He IS a boy .This IS a dog.Where IS she?"
</code></pre></div>
<p><strong><code>i</code>:ignore case 忽略大小写，默认大小写敏感</strong></p>
<div class="highlight"><pre><code class="language-" data-lang="">"He Is a boy .This is a dog.Where is she?".replace(/\bis\b/gi,'hello')
"He hello a boy .This hello a dog.Where hello she?"
</code></pre></div>
<p><strong><code>m</code>:multiple lines 多行搜索</strong></p>
<div class="highlight"><pre><code class="language-" data-lang="">var mulSrt = "@123\n@321\n@876"
mulSrt
"@123
@321
@876 "
mulSrt.replace(/@\d/g, "G")
"G23
G21
G76 "
mulSrt.replace(/^@\d/g, "G")
"G23
@321
@876 "
mulSrt.replace(/^@\d/gm, "G")
"G23
G21
G76 "
</code></pre></div>
<blockquote>
<p>元字符</p>
</blockquote>

<p>正则表达式由两种基本字符类型组成：    </p>

<p><strong>原义文本字符</strong></p>

<p>原义文本字符意思就是代表它本来含义的字符比如<code>/a/</code>就是想匹配<code>a</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"jj abc a b c vf".replace(/a/gi,'hello')
//"jj hellobc hello b c vf"
</code></pre></div>
<p>写<code>/abc/</code>就是想匹配<code>abc</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"jj abc a b c vf".replace(/abc/gi,'hello')
//"jj hello a b c vf"
</code></pre></div>
<p>这些都是原义文本字符。</p>

<p><strong>元字符</strong></p>

<p>元字符实在正则表达式中有特殊含义的非字母字符</p>

<p>比如<code>\b</code>它匹配的是单词边界，他的意思并不是匹配一个反斜线一个字母b，意思是匹配一个单词边界。这种就是特殊字符。</p>

<p>在正则表达式中有几个字符需要注意他们都是有特殊含义的。</p>

<p><img src="http://upload-images.jianshu.io/upload_images/3877962-ce2bea41a83c4ba9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>

<blockquote>
<p>字符类</p>
</blockquote>

<p>我们工作时希望并不是匹配某个字符，而是希望匹配符合一系列特征<code>abc</code>。</p>

<p>我们可以使用元字符<code>[]</code>来构建一个简单的类。<br>
类就是符合某些特征的对象，是指一个泛指，而不是特指某个字符。<br>
比如我们使用表达式<code>[abc]</code>就把a或者b或者c自定义成为一类，表达式就可以匹配这类的字符。他的意思是有它们一个就行。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b2c3".replace(/[abc]/g,'x')
//"x1x2x3"
</code></pre></div>
<p>这样我们发现abc对应的地方都进行替换了，</p>

<p><strong>字符来取反</strong></p>

<p>使用元字符<code>^</code>创建反向类/负向类<br>
反向类的意思是不属于某类的内容<br>
表达式<code>[^abc]</code>表示不是字符a或b或c的内容</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b2c3".replace(/[^abc]/g,'x')
//"axbxcx"
</code></pre></div>
<p>把字符a或b或c以为外的字符替换成x了</p>

<blockquote>
<p>范围类</p>
</blockquote>

<p>正则表达式提供了范围类</p>

<p>我们可以使用<code>[a-z]</code>来链接两个字符表示从a到z的任意字符<br>
这是一个闭区间，也就是包含a和z本身             </p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b2c3x4z9".replace(/[a-z]/g,'Q');
//"Q1Q2Q3Q4Q9"
</code></pre></div>
<p>会发现a-z字母都被替换</p>

<p>在<code>[]</code>组成的类内部是可以连写的<code>[a-zA-Z]</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b2c3x4z9ASDFGGG".replace(/[a-zA-Z]/g,'Q');
"Q1Q2Q3Q4Q9QQQQQQQ"
</code></pre></div>
<p>匹配所有数字</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-12".replace(/[0-9]/g,'Q');
"QQQQ-QQ-QQ"
</code></pre></div>
<p>匹配所有数字和横线</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-12".replace(/[0-9-]/g,'Q');
"QQQQQQQQQQ"
</code></pre></div>
<blockquote>
<p>JS预定义类及边界</p>
</blockquote>

<p>正则表达式预定义类：</p>

<p>字符|含义
----|----
.|除了回车符和换行符之外的所有字符，等价于[^\r\n]
\d|数字字符,等价于[0-9]    digit
\D|非数字字符,等价于[^0-9]
\s|空白符,等价于[\t\n\x0B\f\r]   space
\S|非空白符,等价于[^\t\b\x0B\f\r]
\w|单词字符（字母，数字，下划线）,等价于[a-zA-Z<em>0-9]    word
\W|非单词字符,等价于[^a-zA-Z</em>0-9]</p>

<p>例子：</p>

<p>匹配一个<code>ab+数字+任意字符</code>的字符串</p>
<div class="highlight"><pre><code class="language-" data-lang="">/ab[0-9][^\r\n]/
"ab12334455sss".replace(/ab[0-9][^\r\n]/g,'Q');
//"Q334455sss"
</code></pre></div>
<p>或者</p>
<div class="highlight"><pre><code class="language-" data-lang="">/ab\d.

"ab3klll".replace(/ab\d./g,"z")
//"zlll"
</code></pre></div>
<blockquote>
<p>边界</p>
</blockquote>

<p>字符|含义
----|----
^|以xxx开始
$|以xxx结束
\b|单词边界
\B|非单词边界</p>

<p><strong><code>\b</code>单词边界</strong></p>

<p>匹配字符</p>
<div class="highlight"><pre><code class="language-" data-lang="">"This is a boy".replace(/is/g,'0')
//"Th0 0 a boy"
</code></pre></div>
<p>会发现所以 <code>is</code>都被替换</p>

<p>如果想替换单词，单词前后是有单词边界，所以要写上边界<code>&quot;This is a boy&quot;.replace(/\bis\b/g,&#39;0&#39;)</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"This is a boy".replace(/\bis\b/g,'0')
//"This 0 a boy"
</code></pre></div>
<p><strong><code>\B</code>非单词边界</strong></p>

<p>如果想替换<code>This</code>的<code>is</code>，观察下特征，发现前面并不是边界，后面是边界那就这样写<code>&quot;This is a boy&quot;.replace(/\Bis\b/g,&#39;0&#39;)</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"This is a boy".replace(/\Bis\b/g,'0')
//"Th0 is a boy"
</code></pre></div>
<p><strong><code>^</code>以xxx为开始</strong></p>
<div class="highlight"><pre><code class="language-" data-lang="">"@123@abc@".replace(/@./g,'Q');
//"Q23Qbc@"
</code></pre></div>
<p>匹配全局<code>@和任意字符</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"@123@abc@".replace(/^@./g,'Q');
//"Q23@abc@"
</code></pre></div>
<p>以@和任意字符作为开始后面的不匹配</p>

<p><strong><code>$</code>以xxx为结束</strong></p>
<div class="highlight"><pre><code class="language-" data-lang="">"@123@abc@".replace(/.@/g,'Q');
//"@12QabQ"
</code></pre></div>
<p>匹配全局<code>任意字符和@</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">"@123@abc@".replace(/.@$/g,'Q');
//"@123@abQ"
</code></pre></div>
<p>匹配最后一个<code>任意字符和@</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">var mulSrt = "@123\n@321\n@876"
mulSrt
"@123
@321
@876 "
mulSrt.replace(/@\d/g, "G")
"G23
G21
G76 "
mulSrt.replace(/^@\d/g, "G")
"G23
@321
@876 "
mulSrt.replace(/^@\d/gm, "G")
"G23
G21
G76 "
</code></pre></div>
<blockquote>
<p>量词</p>
</blockquote>

<p>字符|含义
----|----
？|出现零次或一次(最多出现一次)
+|出现一次或多次(至少出现一次)
*|出现零次或多次(任意次)
{n}|出现n次
{n,m}|出现n到m次
{n,}|至少出现n次</p>

<p>我们希望匹配一个连续出现20次数字的字符串</p>

<p>/\d\d\d\d\d\d\d\d..../反斜杠加d表示数字表示数字出现20次把他写20遍这样非常麻烦如果出现100次那就要写100遍吗。为了解决这个问题正则表达式引入了量词的概念。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"12341111133333333111111111111".replace(/\d{20}/g,"d")
//"d111111111"
</code></pre></div>
<p>匹配数字两次</p>
<div class="highlight"><pre><code class="language-" data-lang="">"1234".replace(/\d{2}/g,"d")
//"dd"
</code></pre></div>
<blockquote>
<p>JS正则贪婪模式与非贪婪模式</p>
</blockquote>

<p><strong>贪婪模式</strong></p>

<p>了解了量词我们看这样一个场景。</p>

<p><code>/\d{3,6}/</code></p>

<p>数字匹配3到6次，我们用<code>12345678</code>来执行，我们写的正则表达式是匹配数字3到6次，这个字符串中，即可以满足3次4次5次6次，都是可以满足的，那么正则表达式这时候该怎么处理？</p>

<p>正则表达式在处理的时候会尽可能多的匹配，直到匹配失败。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"12345678".replace(/\d{3,6}/g,'A')
//"A78"
</code></pre></div>
<p>我们看到，他是匹配123456，78没有匹配到，也就是说他是尽可能多的匹配而不是少的匹配。</p>

<p>这就是贪婪模式</p>

<p><strong>非贪婪模式</strong></p>

<p>让正则表达式尽可能少的匹配，也就是说一旦匹配成功匹配不再继续尝试，就是非贪婪模式。</p>

<p>做法很简单，在量词后面加上<code>?</code>即可。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"12345678".replace(/\d{3,6}?/g,'A')
"AA78"
</code></pre></div>
<p>这个时候的执行结果就是123，456后面两个78没有被匹配到。</p>

<blockquote>
<p>分组</p>
</blockquote>

<p>匹配字符串Byron连续出现3次的场景。</p>

<p>没有接触量词的时候我们把这个单词写3遍，接触量词之后我们可能会这样写<code>Byron{3}</code>但是它代表的含义和我们预期的并不是一致的。实际上是<code>n</code>重复3次，前面不重复，量词是作为紧挨着它的字符，并不是整个单词，否则怎么知道你匹配到哪。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"ByronByronByron".replace(/Byron{3}/g,'A')
//"ByronByronByron"
"ByronnnByronByron".replace(/Byron{3}/g,'A')
//"AByronByron"
</code></pre></div>
<p>那么如何让他匹配整个单词呢？或者是我们圈定的内容，那么就用到分组</p>

<p>使用<code>()</code>可以达到分组功能，使量词作用于分组。</p>

<p><code>(Byron){3}</code>这样写就能达到我们预期效果。整个单词重复了3遍。</p>

<p>比如想匹配一个小写字母加一个数字连续出现3次<code>a1b2c3d4</code></p>
<div class="highlight"><pre><code class="language-" data-lang="">`a1b2c3d4`.replace(/[a-z]\d{3}/g,"A")
//"a1b2c3d4"
</code></pre></div>
<p>这样写是匹配不到的，因为<code>\d{3}</code>是找数字出现3次的场景。</p>

<p>我们将他分组即可</p>
<div class="highlight"><pre><code class="language-" data-lang="">`a1b2c3d4`.replace(/([a-z]\d){3}/g,"A")
//"Ad4"
</code></pre></div>
<p>这样就达到效果了。这样量词作用于整个分组。</p>

<p><strong>或</strong></p>

<p>使用<code>|</code>可以达到或的效果</p>
<div class="highlight"><pre><code class="language-" data-lang="">"ByronCasper".replace(/Byron|Casper/g,"A");
//"AA"
</code></pre></div>
<p>这样两个都被匹配到了。</p>

<p>分组在或中的使用</p>
<div class="highlight"><pre><code class="language-" data-lang="">"ByronsperByrCasper".replace(/Byr(on|Ca)sper/g,"A");
//"AA"
</code></pre></div>
<p><strong>反向引用</strong></p>

<p>比如我们想把<code>2016-11-25</code>变成<code>11/25/2016</code></p>

<p>如果只是想把<code>-</code>替换成<code>/</code>是很简单的</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-25".replace(/-/g,'/')
//"2016/11/25"
</code></pre></div>
<p>但是它顺序也变了，</p>

<p>以往的写法</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-25".replace(/\d{4}-\d{2}-\d{2}/g,'11/25/2016')
//"11/25/2016"
</code></pre></div>
<p>但是需要匹配的值变成了2016，月份可能变成11，我们想替换他本身，替换的内容不再是一个常量，而是一个变量。这个时候该怎么处理？</p>

<p>我们用反向引用，</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-25".replace(/(\d{4})-(\d{2})-(\d{2})/g,'$2/$3/$3')
"11/25/25"
</code></pre></div>
<p>我们用<code>$</code>引用分组内内容，我们对分组内容进行捕获，捕获后用<code>$1$2$3</code>来代替。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"2016-11-25".replace(/(\d{4})-(\d{2})-(\d{2})/g,'$1')
//"2016"
 "2016-11-25".replace(/(\d{4})-(\d{2})-(\d{2})/g,'$2')
//"11"
 "2016-11-25".replace(/(\d{4})-(\d{2})-(\d{2})/g,'$3')
//"25"

"2016-11-25".replace(/(\d{4})-(\d{2})-(\d{2})/g,'$2/$3/$3')
"11/25/25"
</code></pre></div>
<p><strong>忽略分组</strong></p>

<p>不希望捕获某些分组，只需要在分组内加上<code>?:</code>就可以。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"abcaok".replace(/(abc).(ok)/g,'$1/$2')
//"abc/ok"

"abcaok".replace(/(?:abc).(ok)/g,'$1/$2')
//"ok/$2"
</code></pre></div>
<blockquote>
<p>前瞻</p>
</blockquote>

<p>正则表达式的前瞻:</p>

<ol>
<li>正则表达式从文本头部向尾部开始解析，文本尾部方向，成为“前”</li>
<li> 前瞻 就是在正则表达式匹配到规则的时候，向前检查是否符合断言。比如找到儿子为张三，还得看看他的父亲是否是李四
后顾/后瞻方向相反</li>
</ol>

<p>注意：JavaScript不支持后顾</p>

<p>匹配单词数字加数字</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a2*3".replace(/\w(\d)/g,"A");
//"A*3"
</code></pre></div>
<p>匹配单词数字，注：这个单词数字后面必须有数字才会匹配，<code>(?=\d)</code>不能算在匹配内容，这是断言。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a2*3".replace(/\w(?=\d)/g,"A");
//"A2*3"
</code></pre></div>
<p>写个复杂点的案例</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a2*34v8".replace(/\w(?=\d)/g,"A");
//"A2*A4A8"
</code></pre></div>
<p><code>a2</code>*<code>34</code><code>v8</code>这三个符合要求</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a2*34vv".replace(/\w(?=\d)/g,"A");
//"A2*A4vv"
</code></pre></div>
<p><code>a2</code>*<code>34</code>vv，这里只有两个匹配<code>vv</code>v是对的但是它后面不是数字，所以不成功。</p>

<p>现在改一下比配后面不是数字的</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a2*34vv".replace(/\w(?!\d)/g,"A");
"aA*3AAA"
</code></pre></div>
<p>a<code>2*</code><code>34</code><code>vv</code>,2变成A。4vv都符合所以是AAA</p>

<blockquote>
<p>js对象属性</p>
</blockquote>

<p>描述|默认
----|----
g：global是否全文搜索|默认false
i：ignore case是否大小写敏感|默认false 
m：multiline多行搜索|默认值false
lastIndex:当前正则表达式匹配内容的最后一个字符的下一个位置(即下一次匹配开始的位置)。|
source : 正则表达式的文本字符串。|</p>

<blockquote>
<p>test 和 exec方法</p>
</blockquote>

<p>正则表达式本身的两个方法
<strong>1.test</strong>
RegExp.prototype.test(str)</p>

<p>用于测试字符串参数中是否存在匹配正则表达式模式的字符串</p>

<p>如果存在则返回true，否则返回false</p>

<p>lastIndex 记录当前匹配结果的、最后一个字符的、下一个字符的位置
  注意:test()方法在匹配的时候当匹配到一个结果时，会从lastIndex位置开始匹配下一个结果，直到不存在的时候才置为0。因此，当使用全局g属性标识时，当匹配到最后一个结果时，lastIndex值指向不存在的位置，此时再执行test()会返回false。
  例子：多次执行test（）方法，会在true、false之间循环
  （/\w/g）.test(&#39;a&#39;)每次执行都是正确的，但是通过实例化对象，需要很大的开销
  test()方法：原意就是测试有没有、能不能匹配上，当使用test原意时，没必要加g</p>

<p><strong>2.exec</strong></p>

<p>RegExp.prototype.exec(str)
   使用正则表达式模式对字符串执行搜索，并将更新全局RegExp对象的属性一反映匹配结果
   如果没有匹配的文本则返回 null，否则返回一个结果数组：
- index 声明匹配文本的第一个字符位置
- input 存放被检索的字符串 string</p>

<p>非全局调用
  调用非全局的RegExp对象的 exec()时，返回数组
   第一个元素是与正则表达式相匹配的文本
   第二个元素是与RegExpObject的第一个子表达式相匹配的文本（如果有的话）
   第三个元素是与RegExp对象的第二个子表达式相匹配的文本（如果有的话），以此类推</p>

<blockquote>
<p>字符串对象方法 </p>
</blockquote>

<p><strong>String.prototype.search(reg)</strong></p>

<p>search() 方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。</p>

<p>语法</p>
<div class="highlight"><pre><code class="language-" data-lang="">stringObject.search(regexp)
</code></pre></div>
<p>参数|描述
---|---
regexp|该参数可以是需要在 stringObject 中检索的子串，也可以是需要检索的 RegExp 对象。注释：要执行忽略大小写的检索，请追加标志 i。</p>

<p><em>返回值</em></p>

<p>stringObject 中第一个与 regexp 相匹配的子串的起始位置。</p>

<p>注释：如果没有找到任何匹配的子串，则返回 -1。</p>

<p><em>说明</em></p>

<p>search() 方法不执行全局匹配，它将忽略标志 g。它同时忽略 regexp 的 lastIndex 属性，并且总是从字符串的开始进行检索，这意味着它总是返回 stringObject 的第一个匹配的位置。</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b1c1d1".search('1')
//1
"a1b1c1d1".search('10')
//-1
"a1b1c1d1".search(1)
//1
"a1b1c1d1".search(/1/)
//1
</code></pre></div>
<p><strong>String.prototype.match(reg)</strong></p>

<p>match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。</p>

<p>该方法类似 indexOf() 和 lastIndexOf()，但是它返回指定的值，而不是字符串的位置。</p>

<p>参数|描述
---|---
searchvalue|必需。规定要检索的字符串值。
regexp|必需。规定要匹配的模式的 RegExp 对象。如果该参数不是 RegExp 对象，则需要首先把它传递给 RegExp 构造函数，将其转换为 RegExp 对象。</p>

<p><em>返回值</em></p>

<p>存放匹配结果的数组。该数组的内容依赖于 regexp 是否具有全局标志 g。</p>

<p><em>说明</em></p>

<p>match() 方法将检索字符串 stringObject，以找到一个或多个与 regexp 匹配的文本。这个方法的行为在很大程度上有赖于 regexp 是否具有标志 g。</p>

<p>如果 regexp 没有标志 g，那么 match() 方法就只能在 stringObject 
中执行一次匹配。如果没有找到任何匹配的文本， match() 将返回 
null。否则，它将返回一个数组，其中存放了与它找到的匹配文本有关的信息。该数组的第 0 
个元素存放的是匹配文本，而其余的元素存放的是与正则表达式的子表达式匹配的文本。除了这些常规的数组元素之外，返回的数组还含有两个对象属性。index
 属性声明的是匹配文本的起始字符在 stringObject 中的位置，input 属性声明的是对 stringObject 的引用。</p>

<p>如果 regexp 具有标志 g，则 match() 方法将执行全局检索，找到 stringObject 
中的所有匹配子字符串。若没有找到任何匹配的子串，则返回 
null。如果找到了一个或多个匹配子串，则返回一个数组。不过全局匹配返回的数组的内容与前者大不相同，它的数组元素中存放的是 
stringObject 中所有的匹配子串，而且也没有 index 属性或 input 属性。</p>

<p><strong>注意</strong>：在全局检索模式下，match() 即不提供与子表达式匹配的文本的信息，也不声明每个匹配子串的位置。如果您需要这些全局检索的信息，可以使用 RegExp.exec()。</p>
<div class="highlight"><pre><code class="language-" data-lang="">var str="Hello world!"
document.write(str.match("world") + "&lt;br /&gt;")
document.write(str.match("World") + "&lt;br /&gt;")
document.write(str.match("worlld") + "&lt;br /&gt;")
document.write(str.match("world!"))
</code></pre></div>
<p>输出</p>
<div class="highlight"><pre><code class="language-" data-lang="">world
null
null
world! 
</code></pre></div>
<p>正则方法非全局匹配</p>
<div class="highlight"><pre><code class="language-" data-lang="">var reg3 = /\d(\w)/;
var reg4 = /\d(\w)/g;
var ts = '$1a2b3c4d5e';

var ret = ts.match(reg3);
console.log(ret);    //["1a", "a", index: 1, input: "$1a2b3c4d5e"]
document.write(ret);  //1a,a
</code></pre></div>
<p>正则方法全局匹配</p>
<div class="highlight"><pre><code class="language-" data-lang="">var reg3 = /\d(\w)/;
var reg4 = /\d(\w)/g;
var ts = '$1a2b3c4d5e';

var ret = ts.match(reg4);
console.log(ret);   //["1a", "2b", "3c", "4d", "5e"]
document.write(ret);//1a,2b,3c,4d,5e
</code></pre></div>
<p><strong>String.prototype.match(reg)方法</strong></p>

<p>split() 方法用于把一个字符串分割成字符串数组。</p>

<p>基本用法</p>
<div class="highlight"><pre><code class="language-" data-lang="">var op = 'a,b,c,d';
var spo = op.split(',');
console.log(spo);
//["a", "b", "c", "d"]
</code></pre></div>
<p>在一些复杂分割情况下可以用正则用法</p>
<div class="highlight"><pre><code class="language-" data-lang="">var op = 'a1b2c3d';
var spo = op.split(/\d/);
console.log(spo);
//["a", "b", "c", "d"]
</code></pre></div>
<p>再复杂</p>
<div class="highlight"><pre><code class="language-" data-lang="">var op = 'a,b|c?d';
var spo = op.split(/[,|\|\?]/g);
console.log(spo);
//["a", "b", "c", "d"]
</code></pre></div>
<p><strong>String.prototype.replace方法</strong></p>

<p>传入两个参数replace（找谁，替换谁）</p>
<div class="highlight"><pre><code class="language-" data-lang="">"a1b".replace(/1/,2)
//"a2b"


"a1b1c1".replace(/1/g,2)
//"a2b2c2"

"a1b1c1".replace(/\d/g,2)
"a2b2c2"
</code></pre></div>
<p>如果我想把&quot;a1b2c3d4&quot; =&gt; &quot;a2b3c4d5&quot;该怎么实现呢？</p>
<div class="highlight"><pre><code class="language-" data-lang="">var h = "a1b2c3d4".replace(/\d/g, function(match, index, origin) {
    //console.log(index);
    return parseInt(match) + 1;
});
console.log(h);//a2b3c4d5



var h = "a1b2c3d4e5".replace(/(\d)(\w)(\d)/g, function(match, g1, g2, g3, index, origin) {
    //console.log(index);
    return g1 + g3;
});
console.log(h);//a12c34e5
</code></pre></div>
              <!-- 多说评论框 start -->
              		<!-- <span class="ds-thread-count" data-thread-key="/javascript/2016/12/11/javascript_regexp_shili" data-count-type="comments"></span> -->
					<div class="ds-thread" data-thread-key="http://www.huanghanlian.com/javascript/2016/12/11/javascript_regexp_shili" data-title="JavaScript 正则表达式（实例）" data-url="http://www.huanghanlian.com/javascript/2016/12/11/javascript_regexp_shili"></div>
				<!-- 多说评论框 end -->
				<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
				<script type="text/javascript">
				var duoshuoQuery = {short_name:"huanghuanlian"};
					(function() {
						var ds = document.createElement('script');
						ds.type = 'text/javascript';ds.async = true;
						ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
						ds.charset = 'UTF-8';
						(document.getElementsByTagName('head')[0]
						 || document.getElementsByTagName('body')[0]).appendChild(ds);
					})();
				</script>
				<!-- 多说公共JS代码 end -->


				
            </article>
		</article>

	</main>
	<div class="sidebar" id="sidebar">
	<div class="sidebar-top">
		<aside class="widjhuh">
			<h3 class="widget-title">最新文章</h3>
			<ul class="minty_thumblist">
				
                  <li>
                    <a href="/nodejs/2017/04/15/nodejs-one-13.html">

                    	<span>Node.js-HTTP 性能测试</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/nodejs/2017/04/13/nodejs-one-12.html">

                    	<span>Node.js-源码解读之先了解作用域、上下文</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/nodejs/2017/04/08/nodejs-one-11.html">

                    	<span>Node.js-HTTP 事件回调进阶</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/nodejs/2017/04/08/nodejs-one-10.html">

                    	<span>Node.js-HTTP知识先填坑</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/nodejs/2017/04/05/nodejs-one-9.html">

                    	<span>Node.js-URL网址解析的好帮手</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/nodejs/2017/03/27/nodejs-one-8.html">

                    	<span>简单的Nodejs模块</span>
                    </a>
                  </li>
				
			</ul>
		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">最近访客</h3>
			<ul class="minty_thumblist minty_thumblist_a ds-recent-visitors visitorsopi" data-num-items="20" data-avatar-size="38">

			</ul>

		    <!--多说js加载开始，一个页面只需要加载一次 -->
		    <script type="text/javascript">
		    var duoshuoQuery = {short_name:"huanghuanlian"};
		    (function() {
		        var ds = document.createElement('script');
		        ds.type = 'text/javascript';ds.async = true;
		        ds.src = 'http://static.duoshuo.com/embed.js';
		        ds.charset = 'UTF-8';
		        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
		    })();
		    </script>
		    <!--多说js加载结束，一个页面只需要加载一次 -->

		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">分类目录</h3>
			<ul class="minty_thumblist minty_thumblist_a">
				
				<li>
					<a href="/categories/Markdown/" title="view all
posts">
						Markdown (2)
					</a>
				</li>
				
				<li>
					<a href="/categories/Canvas/" title="view all
posts">
						Canvas (1)
					</a>
				</li>
				
				<li>
					<a href="/categories/Git/" title="view all
posts">
						Git (1)
					</a>
				</li>
				
				<li>
					<a href="/categories/JavaScript/" title="view all
posts">
						JavaScript (30)
					</a>
				</li>
				
				<li>
					<a href="/categories/AngularJS/" title="view all
posts">
						AngularJS (10)
					</a>
				</li>
				
				<li>
					<a href="/categories/PHP/" title="view all
posts">
						PHP (3)
					</a>
				</li>
				
				<li>
					<a href="/categories/Nodejs/" title="view all
posts">
						Nodejs (13)
					</a>
				</li>
				
			</ul>
		</aside>
	</div>


	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">标签目录</h3>
			<div class="tagcloud" id="tagcloud">
				
					<a href="/tag/Markdown/" title="view all
posts">
						Markdown
					</a>
				
					<a href="/tag/Canvas/" title="view all
posts">
						Canvas
					</a>
				
					<a href="/tag/Git/" title="view all
posts">
						Git
					</a>
				
					<a href="/tag/JavaScript/" title="view all
posts">
						JavaScript
					</a>
				
					<a href="/tag/RegExp/" title="view all
posts">
						RegExp
					</a>
				
					<a href="/tag/DOM/" title="view all
posts">
						DOM
					</a>
				
					<a href="/tag/BOM/" title="view all
posts">
						BOM
					</a>
				
					<a href="/tag/proto/" title="view all
posts">
						proto
					</a>
				
					<a href="/tag/Ajax/" title="view all
posts">
						Ajax
					</a>
				
					<a href="/tag/AngularJS/" title="view all
posts">
						AngularJS
					</a>
				
					<a href="/tag/PHP_study/" title="view all
posts">
						PHP_study
					</a>
				
					<a href="/tag/PHP/" title="view all
posts">
						PHP
					</a>
				
					<a href="/tag/Nodejs_One/" title="view all
posts">
						Nodejs_One
					</a>
				
			</div>

		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">友情链接</h3>
			<ul class="minty_thumblist minty_thumblist_a">

				<li>
					<a href="http://blog.csdn.net/u013861109?viewmode=contents" target="blank">
						csdn博客
					</a>
				</li>
				<li>
					<a href="http://www.imooc.com/" target="blank">
						慕课网
					</a>
				</li>
				<li>
					<a href="http://www.dglives.com/" target="blank">
						数字生活前端
					</a>
				</li>
				<li>
					<a href="http://www.jianshu.com/" target="blank">
						简书
					</a>
				</li>
				<li>
					<a href="http://www.runoob.com/" target="blank">
						菜鸟
					</a>
				</li>
				<li>
					<a href="http://www.qdfuns.com/" target="blank">
						前端网
					</a>
				</li>
			</ul>
		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">QQ交流群</h3>
			<img style="margin-top: 10px; box-shadow: none;" src="/assets/images/ertw.png">
		</aside>
	</div>


	<script>
	var box=document.getElementById("tagcloud").getElementsByTagName("a");
	for(var i=0;i<box.length;i++){
		var a =Math.round(Math.random()*20)/10;
		box[i].style.fontSize=a+'em';
	}
	</script>

</div>
</div>
	
<footer id="footer">
	<nav class="links">
		<a href="">作品</a>
		<a href="/about/">关于本站</a>
		<a href="/report/">留言板</a>
	</nav>
	<div class="copyright">
		© 2016 <a href="">继小鹏的前端博客</a>
	</div>
	<a href="javascript:pageScroll();" id="rocket" class=""></a>
	<span id="busuanzi_container_site_pv">
	    本站总访问量<span id="busuanzi_value_site_pv"></span>次
	</span>
	<span id="busuanzi_container_site_uv">
	  本站访客数<span id="busuanzi_value_site_uv"></span>人次
	</span>
</footer>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>

$(function(){
	$("#m-btns").click(function(){
		if($("body").hasClass('nav-is-open')){
			$("body").removeClass('nav-is-open')
		}else{
			$("body").addClass('nav-is-open')
		};
	})
})
var fhdb = document.getElementById("rocket");

//获取页面可视区高度
var dqy = document.documentElement.clientHeight;

var main_left=$('#main').offset().left+$('#main').width()+16;

//滚动条滚动时触发   在滚动的时候触发
window.onscroll = function() {
	var sTop = document.documentElement.scrollTop || document.body.scrollTop;
	if (sTop >= dqy) {
		$("#rocket").addClass('show');
	} else {
		$("#rocket").removeClass('show');
	}
}

function pageScroll() {
	//把内容滚动指定的像素数（第一个参数是向右滚动的像素数，第二个参数是向下滚动的像素数）
	window.scrollBy(0, -100);
	//延时递归调用，模拟滚动向上效果
	scrolldelay = setTimeout('pageScroll()', 5);
	//获取scrollTop值，声明了DTD的标准网页取document.documentElement.scrollTop，否则取document.body.scrollTop；因为二者只有一个会生效，另一个就恒为0，所以取和值可以得到网页的真正的scrollTop值
	var sTop = document.documentElement.scrollTop + document.body.scrollTop;
	//判断当页面到达顶部，取消延时代码（否则页面滚动到顶部会无法再向下正常浏览页面）
	if (sTop == 0) clearTimeout(scrolldelay)

}



</script>
</body>
</html>