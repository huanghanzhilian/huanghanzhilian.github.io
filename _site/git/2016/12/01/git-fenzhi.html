<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Git的版本和分支管理</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="/assets/css/main.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/public.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/pygments.css">
	<link rel="shortcut icon" href="/assets/images/logo_ioc.ico" type="images/x-icon"/>
	<link rel="icon" href="/assets/images/logo_ioc.png" type="images/png"/>
	<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js" type="text/javascript"></script>
	
	<script type="text/javascript">
	    (function($) {

	    	var temp = 0;
	    	$(document).scroll(function() {

	    		if ($(document).scrollTop() > temp) {
	    			$("#header").addClass("hide-top");
	    		} else {
	    			$("#header").removeClass("hide-top");
	    		}
	    		temp = $(document).scrollTop();
	    	});
	    })(jQuery);

	</script>

</head>
<body>
    <header id="header" role="banner">
	<a id="hgroup" href="/" rel="home">
		<h1 id="logo"></h1>
		<i class="slogan" title="返回首页">
			热爱编程，关注前端开发技术
		</i>
	</a>
	<div class="connect">
		<a href="" class="rss"></a>
	</div>
	<nav id="nav">
		<ul class="menu">
			<li class="menu_item">
				<a href="/">首页</a>
			</li>
			<li class="menu_item">
				<a href="/about/">关于本站</a>
			</li>
			<li class="menu_item">
				<a href="/report/">留言板</a>
			</li>
		</ul>
	</nav>
	<div id="m-btns">
		<div class="menu"></div>
	</div>
</header>
	<div id="container" class="clearfix">
	<main id="main" class="hfeed">
		<article id="post-157" class="post-157 hentry">
			<header class="entry-header">
				<h1 class="entry-title">Git的版本和分支管理</h1>
				<div class="entry-meta">2016-12-01 <span class="dot">•</span>Git<span class="dot">•</span>黄继鹏<span id="busuanzi_container_page_pv">  |  阅读量 <span id="busuanzi_value_page_pv"></span> 次</span></div>
			</header>
			<article class="post-content">
              <p>有时候需要从远程git服务器获取某个远程分支的代码，命令是 git fetch origin  remote-branch:local-branch ，这个命令比较容易忘记，特别记录下。</p>

<h4 id="section">本地的分支管理</h4>
<hr />
<p>创建分支，你可以使用</p>

<pre><code>git branch dev
</code></pre>

<p>这就创建了一个dev（development之意），更好的，选择使用下面的方法创建两个分支——dev，创建后会自动切换到新创建的分支，</p>

<pre><code>git checkout -b dev
</code></pre>

<p>要切回master分支怎么办？使用
git checkout master</p>

<p>当然你也可以使用</p>

<pre><code>git checkout dev
</code></pre>

<p>再次切换到dev分支。</p>

<p>好了，现在有两个分支：master和dev了。比如切来切去，突然暂停手下的活要先撸一把，撸完回过头不知道现在在哪个分支了，怎么办？</p>

<pre><code>git branch
</code></pre>

<p><a href="https://github.com/xiahouzuoxin/notes/blob/master/images/Git%E7%89%88%E6%9C%AC%E5%92%8C%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/git-branch.png"><img src="https://github.com/xiahouzuoxin/notes/raw/master/images/Git%E7%89%88%E6%9C%AC%E5%92%8C%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/git-branch.png" alt="git-branch" /></a></p>

<p>搞定，git branch可以查看当前已有的分支信息，并在将当前所在分支高亮，当前分支前还有个*号。</p>

<p>某天要调试某个新<a href="http://lib.csdn.net/base/datastructure">算法</a>，又不能保证能调好，又怕打乱了原有的程序，怎么办？建一个新分支：</p>

<pre><code>git checkout -b debug
</code></pre>

<p>在debug分支中慢慢玩，master分支和dev分支毫不受影响。这时就有两种情况：</p>

<p>悲剧的最后还是没调出来，我又有强迫症，debug分支一直放在那总是不爽，删了</p>

<pre><code>git branch -d debug
</code></pre>

<p>恭喜，算法调试成功，我要合并到master中</p>

<pre><code>git checkout master // 切换到mastergit merge debug // 合并debug到master
</code></pre>

<p>这时如果你很幸运，直接合并成功。悲伤的事情总是时有发生，“合并发生冲突”是常有的事，因此一旦出现类似下面的提示</p>

<pre><code>CONFLICT (content): Merge conflict in ...Automatic merge failed; fix conflicts and then commit the result.
</code></pre>

<p>就得自己动手解决冲突了，git会用</p>

<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;HEAD
master原有的内容
======= 
debug分支中冲突的内容
&gt;&gt;&gt;&gt;&gt;&gt;&gt;debug
</code></pre>

<p>这样的格式提醒你，只要修改保留实际需要的内容后即可解决冲突，解决冲突后就可以执行git commit。</p>

<p>好了，我们合并了master和debug，做IT的人总会偷个腥，想看看git是怎么记录合并的，没问题，</p>

<pre><code>git log --graph --pretty=oneline --abbrev-commit
</code></pre>

<p>就可以直接看到分支合并的过程。我这有个大点的工程合并效果的例子，</p>

<p><a href="https://github.com/xiahouzuoxin/notes/blob/master/images/Git%E7%89%88%E6%9C%AC%E5%92%8C%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/example.png"><img src="https://github.com/xiahouzuoxin/notes/raw/master/images/Git%E7%89%88%E6%9C%AC%E5%92%8C%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/example.png" alt="example" /></a></p>

<p>最后，反正debug我玩完了，删除debug分支</p>

<pre><code>git branch -d debug
</code></pre>

<h4 id="section-1">远程的分支管理</h4>
<hr />

<p>我们所有的开发工作都在dev上进行，一旦有了大的突破，则合并到master。</p>

<p>既然有了dev分支，我也要把它推送到github上</p>

<p>如果不在dev，切换到dev，</p>

<pre><code>git branchgit checkout dev
</code></pre>

<p>还记得我们之前推送master分支到远程origin吗？
git push -u origin master</p>

<p>推送dev也是一样的，只要指定分支名为dev就可以了，</p>

<pre><code>git push -u origin dev
</code></pre>

<p>同学A开头写了个项目，老板让我也跟着做，同学A说，你到github上图clone我的代码吧</p>

<pre><code>git clone git@github.com:....
</code></pre>

<p>这是，你用git branch看看，这只是clone了master分支，dev呢？这可是费劲苦心，要在同学A的dev分支上开发，就必须创建远程的dev分支到本地</p>

<pre><code>git checkout -b dev origin/dev
</code></pre>

<p>再用git branch看看？有了吧。</p>

<p>在同学A的基础上我又添了新功能，老板催着，赶紧提交</p>

<pre><code>git checkout dev git pull origin dev
</code></pre>

<p>老板某天突然和我说：你看同学A，又修改了好多Bug，还不下下来学学</p>

<pre><code>git pull origin dev
</code></pre>

<p>可能出现冲突，解决后才能进行下一次的提交。</p>

<p>极少的场合，要不就是老板的老婆月经乱了，要不就是。。。哎，不说了，非要删除远程dev分支，也是有办法的，
    git push oringin :dev</p>

<h4 id="tag">本地Tag管理</h4>
<hr />

<p>哇，第一个里程碑式的突破，有木有，这时你可小小的庆幸一下，打个标签（Tag），表示这是个可靠的可发布版本，</p>

<pre><code>git tag -a v1.0 -m "第一个里程碑的突破"
</code></pre>

<p>当然，注释别向上面一样（”第一个里程碑的突破”）写得那么没有营养。起个好名字很重要。默认的标签将打在最新的commit上。</p>

<p>查看打了哪些标签使用</p>

<pre><code>git tag
</code></pre>

<p>查看某个标签的信息用</p>

<pre><code>git show v1.0
</code></pre>

<p>好了，好马也有失前蹄的时候，标签打错也是正常的，</p>

<pre><code>git tag -d v1.0
</code></pre>

<p>果断删了v1.0标签。</p>

<h4 id="tag-1">远程Tag管理</h4>
<hr />
<p>我想要把v1.0推送到远程，</p>

<pre><code>git push origin v1.0
</code></pre>

<p>把所有的标签一次推送到远程更爽，</p>

<pre><code>git push origin --tags
</code></pre>

<p>删除远程的标签，你可以到github上删除，也可以，</p>

<p>先删除本地的</p>

<pre><code>git tag -d v1.0
</code></pre>

<p>删除远程的</p>

<pre><code>git push origin :refs/tags/v1.0
</code></pre>

<h4 id="section-2">结尾及参考</h4>
<hr />
<p>好了，告一段落了，接着就是使用git策马奔腾吧！</p>

<p><a href="http://www.liaoxuefeng.com/">廖雪峰Git教程</a></p>

              <!-- 多说评论框 start -->
              		<!-- <span class="ds-thread-count" data-thread-key="/git/2016/12/01/git-fenzhi" data-count-type="comments"></span> -->
					<div class="ds-thread" data-thread-key="http://yourdomain.com/git/2016/12/01/git-fenzhi" data-title="Git的版本和分支管理" data-url="http://yourdomain.com/git/2016/12/01/git-fenzhi"></div>
				<!-- 多说评论框 end -->
				<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
				<script type="text/javascript">
				var duoshuoQuery = {short_name:"huanghuanlian"};
					(function() {
						var ds = document.createElement('script');
						ds.type = 'text/javascript';ds.async = true;
						ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
						ds.charset = 'UTF-8';
						(document.getElementsByTagName('head')[0]
						 || document.getElementsByTagName('body')[0]).appendChild(ds);
					})();
				</script>
				<!-- 多说公共JS代码 end -->


				
            </article>
		</article>

	</main>
	<div class="sidebar" id="sidebar">
	<div class="sidebar-top">
		<aside class="widjhuh">
			<h3 class="widget-title">最新文章</h3>
			<ul class="minty_thumblist">
				
                  <li>
                    <a href="/javascript/2016/12/08/javasctipt-shijian.html">

                    	<span>DOM事件探秘</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/javascript/2016/12/07/javascript-zenzbd.html">

                    	<span>JavaScript 正则表达式</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/javascript/2016/12/06/javascript-mokuai.html">

                    	<span>前端模块化</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/javascript/2016/12/06/javascript-jszl.html">

                    	<span>JavaScript 精粹整理</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/javascript/2016/12/05/javascript-call.html">

                    	<span>JS中的call()和apply()方法</span>
                    </a>
                  </li>
				
                  <li>
                    <a href="/javascript/2016/12/05/javascript-bbssm.html">

                    	<span>JavaScript 闭包到底是什么</span>
                    </a>
                  </li>
				
			</ul>
		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">最近访客</h3>
			<ul class="minty_thumblist minty_thumblist_a ds-recent-visitors visitorsopi" data-num-items="20" data-avatar-size="38">

			</ul>

		    <!--多说js加载开始，一个页面只需要加载一次 -->
		    <script type="text/javascript">
		    var duoshuoQuery = {short_name:"huanghuanlian"};
		    (function() {
		        var ds = document.createElement('script');
		        ds.type = 'text/javascript';ds.async = true;
		        ds.src = 'http://static.duoshuo.com/embed.js';
		        ds.charset = 'UTF-8';
		        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
		    })();
		    </script>
		    <!--多说js加载结束，一个页面只需要加载一次 -->

		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">分类目录</h3>
			<ul class="minty_thumblist minty_thumblist_a">
				
				<li>
					<a href="/categories/Markdown/" title="view all
posts">
						Markdown (2)
					</a>
				</li>
				
				<li>
					<a href="/categories/Canvas/" title="view all
posts">
						Canvas (1)
					</a>
				</li>
				
				<li>
					<a href="/categories/Git/" title="view all
posts">
						Git (1)
					</a>
				</li>
				
				<li>
					<a href="/categories/JavaScript/" title="view all
posts">
						JavaScript (13)
					</a>
				</li>
				
			</ul>
		</aside>
	</div>


	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">标签目录</h3>
			<div class="tagcloud" id="tagcloud">
				
					<a href="/tag/Markdown/" title="view all
posts">
						Markdown
					</a>
				
					<a href="/tag/Canvas/" title="view all
posts">
						Canvas
					</a>
				
					<a href="/tag/Git/" title="view all
posts">
						Git
					</a>
				
					<a href="/tag/JavaScript/" title="view all
posts">
						JavaScript
					</a>
				
					<a href="/tag/DOM/" title="view all
posts">
						DOM
					</a>
				
			</div>

		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">友情链接</h3>
			<ul class="minty_thumblist minty_thumblist_a">

				<li>
					<a href="http://blog.csdn.net/u013861109?viewmode=contents" target="blank">
						csdn博客
					</a>
				</li>
				<li>
					<a href="http://www.imooc.com/" target="blank">
						慕课网
					</a>
				</li>
				<li>
					<a href="http://www.dglives.com/" target="blank">
						数字生活前端
					</a>
				</li>
				<li>
					<a href="http://www.jianshu.com/" target="blank">
						简书
					</a>
				</li>
				<li>
					<a href="http://www.runoob.com/" target="blank">
						菜鸟
					</a>
				</li>
				<li>
					<a href="http://www.qdfuns.com/" target="blank">
						前端网
					</a>
				</li>
			</ul>
		</aside>
	</div>

	<div class="sidebar-top">
		<aside class="widjhuh clearfix">
			<h3 class="widget-title">QQ交流群</h3>
			<img style="margin-top: 10px; box-shadow: none;" src="/assets/images/ertw.png">
		</aside>
	</div>


	<script>
	var box=document.getElementById("tagcloud").getElementsByTagName("a");
	for(var i=0;i<box.length;i++){
		var a =Math.round(Math.random()*20)/10;
		box[i].style.fontSize=a+'em';
	}
	</script>

</div>
</div>
	<footer id="footer">
	<nav class="links">
		<a href="">作品</a>
		<a href="/about/">关于本站</a>
		<a href="/report/">留言板</a>
	</nav>
	<div class="copyright">
		© 2016 <a href="">继小鹏的前端博客</a>
	</div>
	<a href="javascript:pageScroll();" id="rocket" class=""></a>
	<span id="busuanzi_container_site_pv">
	    本站总访问量<span id="busuanzi_value_site_pv"></span>次
	</span>
	<span id="busuanzi_container_site_uv">
	  本站访客数<span id="busuanzi_value_site_uv"></span>人次
	</span>
</footer>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>
var fhdb = document.getElementById("rocket");

//获取页面可视区高度
var dqy = document.documentElement.clientHeight;

var main_left=$('#main').offset().left+$('#main').width()+16;

//滚动条滚动时触发   在滚动的时候触发
window.onscroll = function() {
	var sTop = document.documentElement.scrollTop || document.body.scrollTop;
	if (sTop >= dqy) {
		$("#rocket").addClass('show');
	} else {
		$("#rocket").removeClass('show');
	}
}

function pageScroll() {
	//把内容滚动指定的像素数（第一个参数是向右滚动的像素数，第二个参数是向下滚动的像素数）
	window.scrollBy(0, -100);
	//延时递归调用，模拟滚动向上效果
	scrolldelay = setTimeout('pageScroll()', 30);
	//获取scrollTop值，声明了DTD的标准网页取document.documentElement.scrollTop，否则取document.body.scrollTop；因为二者只有一个会生效，另一个就恒为0，所以取和值可以得到网页的真正的scrollTop值
	var sTop = document.documentElement.scrollTop + document.body.scrollTop;
	//判断当页面到达顶部，取消延时代码（否则页面滚动到顶部会无法再向下正常浏览页面）
	if (sTop == 0) clearTimeout(scrolldelay)

}



</script>
</body>
</html>